<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoolFlix</title>
    <!-- ICON -->
    <link rel="icon" href="./img/boolflix-light.svg">
    <!-- FONTAWESOME -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.css'/>
    <!-- UTILITIES -->
    <link rel="stylesheet" href="./css/utilities.css">
    <!-- MEDIA ELEMENTS STYLE -->
    <link rel="stylesheet" href="./css/media-styles.css">
    <!-- MAIN STYLE -->
    <link rel="stylesheet" href="./css/style.css">
    <!-- VUE, DEV. script -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <!-- VUE, PRODUCTION script -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script> -->
</head>
<body>

    <div id="boolflix">
        <!-- MAIN HEADER -->
        <header class="main-header">
            <!-- NAVBAR -->
            <nav class="navbar fx-top">
                <!-- NAVBAR LOGO & MENU -->
                <div class="nav-left">
                    <img src="./img/boolflix-light.svg" alt="Logo">
                    <ul class="nav-list list-inline">
                        <li v-for=" (el, i) in headerMenu " 
                            :class="['list-item', el.dropdown ? 'dropdown' : '' ]" 
                            @click="showDropdown(el.item, i)" 
                            >
                            <a href="#">
                                <i :class="el.icon" ></i>
                                <span class="desktop-only" >{{el.item}}</span>
                            </a>
                            <div v-if="el.dropdown"  
                                :class="['dropdown-menu', navIndex === i ? 'visible' : '']"
                                >
                                <ul class="dropdown-list" >
                                    <li class="dropdown-item" 
                                    v-for=" langItem in el.dropdown " 
                                    >
                                       <a href="#" @click="changeLang(langItem), filterSearch()" > {{ langItem }} </a> 
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- NAVBAR SEARCH & CTA -->
                <div class="nav-right">
                    <div class="search">
                        <input @keyup="filterSearch" v-model="search" type="text" placeholder="Cerca film o serie">
                        <button></button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- MAIN SECTION -->
        <main class="main-section">

            <!-- <div class="genre">
                <select v-model="genreSelected" @change="ciao">
                    <option value="all" disabled> Seleziona il genrere </option>
                    <option v-for="el in allGenres" :value="el.id"> {{el.name}} </option>
                </select>
            </div> -->

            <!-- FILMS -->
            <div class="media-row" v-show=" filterContent !== 'serie tv' ">
                <div class="media-container">
                    <h4 v-show=" filmList !== null " >FILMS</h4>
                    <div class="media-slider">
                        <div class="media">
                            <div v-for="(media, index) in filmList" :class="['media-item', indexFilm === index ? 'more-info' : '']">
                                <div class="hover-info">
                                    <div class="img-cover">
                                        <img class="cover-img" v-if="media.poster_path" :src="`https://image.tmdb.org/t/p/original${media.poster_path}`" :alt="media.original_title">
                                        <img class="cover-img" v-else src="https://www.altavod.com/assets/images/poster-placeholder.png" :alt="media.original_title">
                                    </div>
                                    <h5 class="title"> {{ media.title }} </h5>
                                    <h5 class="original-title"> <small> {{ media.original_title }}  </small> </h5>
                                    <div class="vote-average">
                                        <i v-for=" vote in getValutation(media.vote_average) " class="fas fa-star"></i>
                                        <i v-for=" vote in ( 5 - getValutation(media.vote_average) ) " class="far fa-star"></i>
                                    </div>
                                    <div class="flag">
                                        <span v-if="checkLanguage(media)" class="original-language" > 
                                            <img class="flag" :src="`./img/${media.original_language}.png`" :alt="media.original_language">   
                                        </span>
                                        <p v-else class="original-language" >
                                            Original language: {{ media.original_language }}
                                        </p>
                                    </div>
                                    <span class="read-more" v-if="media.overview"  @click="readDescriptionFilm(index)">
                                        Read more ->
                                    </span>
                                </div>
                                <div class="description" @click="readDescriptionFilm(index)">
                                    {{ media.overview }} 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- TV SERIES -->
            <div class="media-row" v-show=" filterContent !== 'film' ">
                <div class="media-container">
                    <h4 v-show=" tvsList !== null ">TV SERIES</h4>
                    <div class="media-slider">
                        <div class="media">
                            <div v-for="(media, index) in tvsList" :class="['media-item', indexTvs === index ? 'more-info' : '']">
                                <div class="hover-info">
                                    <div class="img-cover">
                                        <img class="cover-img" v-if="media.poster_path" :src="`https://image.tmdb.org/t/p/original${media.poster_path}`" :alt="media.original_title">
                                        <img class="cover-img" v-else src="https://www.altavod.com/assets/images/poster-placeholder.png" :alt="media.original_title">
                                    </div>
                                    <h5 class="title"> {{ media.title }} </h5>
                                    <h5 class="original-title"> <small> {{ media.original_title }}  </small> </h5>
                                    <div class="vote-average">
                                        <i v-for=" vote in getValutation(media.vote_average) " class="fas fa-star"></i>
                                        <i v-for=" vote in ( 5 - getValutation(media.vote_average) ) " class="far fa-star"></i>
                                    </div>
                                    <div class="flag">
                                        <span v-if="checkLanguage(media)" class="original-language" > 
                                            <img class="flag" :src="`./img/${media.original_language}.png`" :alt="media.original_language">   
                                        </span>
                                        <p v-else class="original-language" >
                                            Original language: {{ media.original_language }}
                                        </p>
                                    </div>
                                    <span class="read-more" v-if="media.overview"  @click="readDescriptionTvs(index)">
                                        Read more ->
                                    </span>
                                </div>
                                <div class="description" @click="readDescriptionTvs(index)">
                                    {{ media.overview }} 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- MAIN FOOTER -->
        <footer class="main-footer"></footer>

    </div>
    <!-- AXIOS -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- MAIN SCRIPT -->
    <script src="./js/main.js"></script>
</body>
</html>